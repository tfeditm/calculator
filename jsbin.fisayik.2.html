<!DOCTYPE html>
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2017 by tfeditm (http://jsbin.com/fisayik/2/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
  <script src="https://code.jquery.com/jquery.min.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Old+Standard+TT:400,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Pinyon+Script" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

<style id="jsbin-css">
/* ==== A SIMPLE CSS RESET FROM ERIC MEYER ==== */

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure,
footer, header, hgroup, menu, nav, section {
	display: block;
}
body {
	line-height: 1;
}
ol, ul {
	list-style: none;
}
blockquote, q {
	quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
	content: '';
	content: none;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}

/* ==== BASE STYLES ==== */

* {
  box-sizing: border-box;
}

/* The max-width of calculator is 60vh. If the width of the viewport is bigger than calculator's width, the reference font-size is the viewport heigth, otherwise the reference font-size is the viewport width.*/

@media (orientation: landscape) {
  html, body {
    font-size: 3vh;
  }
}

@media (orientation: portrait) and (min-width: 60vh) {
  html, body {
    font-size: 3vh;
  }
}

@media (orientation: portrait) and (max-width: 60vh) {
  html, body {
    font-size: 4.8vw;
  }
}

/* If the viewport is extrem narrow: */

@media (orientation: portrait) and (max-width: 46vh) {
  html, body {
    font-size: 4vw;
  }
}

body {
  background-color: black;
}

.calculator {
  background-color: rgba(141,10,18,1);
  font-family: 'Old Standard TT', serif;
  font-weight: 700;
}

.border {
  box-shadow: -1px 0 1px white, 0 2px 3px black, 2px 0 6px black, 0 -1px 1px white, 2px 0 4px black inset, -1px 0 1px white inset;
}

h1 {
  font-family: 'Pinyon Script', cursive;
  font-weight: 700;
  color: rgba(222, 213, 172, 1);
  text-align: center;
  font-size: 2rem;
}

h1 span {
  background-color: rgba(141,10,18,1);
  text-shadow: -1px 0 1px white, 0 1px 1px black, 2px 0 1px black, 0 -1px 1px white;
}


/* ==== LAYOUT STYLES ==== */

h1, .display {
    margin-bottom: 6.3vh;
}

/* If the viewport is extrem narrow: */

@media (orientation: portrait) and (max-width: 46vh) {
  h1, .display {
    margin-bottom: 9vh;
  }
}

body {
  padding: 1.8vh;
}

.calculator {
  margin: 0 auto;
  height: 96.4vh;
  max-height: 190vw;
  max-width: 60vh;
  border-radius: 36vh/5.4vh;
  padding: 5.4vh 1.8vh 1.8vh;
}

.border {
  height: 100%;
  border: 0.36vh solid rgba(222, 213, 172, 1);
  border-radius: 36vh/5.4vh;
  padding: 3.6vh;
}

h1 {
  margin-top: -5.4vh;
  line-height: 1;
}

h1 span {
  padding: 0 3.6vh;
}


/* ==== COMPONENT STYLES ==== */

.display {
  font-family: 'Open Sans', sans-serif;
  font-weight: 400;
  background-color: rgb(40, 25, 17);
  padding: 1.8vh;
  border-radius: 1.8vh/0.72vh;
  box-shadow: -1px -1px 1px hsla(49, 22%, 87%, 0.5) inset, 0 0 1px black inset;
  max-height: 18%;
  overflow: hidden;
}

.display div {
  color: rgba(222, 213, 172, 1);
  text-align: right;
}

#entry {
  font-size: 1.6rem;
  line-height: 1.6;
}

.buttons {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr 1fr;
  grid-template-rows: 1fr 1fr 1fr 1fr 1fr;
  grid-row-gap: 2vh;
  grid-column-gap: 2vh;
  justify-content: end;
  align-content: stretch;
  width: 100%;
  height: 52%;
}

button {
  justify-self: center;
  align-self: center;
  font-family: 'Old Standard TT', serif;
  font-weight: 700;
  font-size: 1.3rem;
  text-shadow: 0 0 0.18vh black;
  background-color: hsl(49, 43%, 77%);
  border-radius: 50%;
  border: 0.09vh solid rgba(222, 213, 172, 1);
  box-shadow: -1px 0 1px white, 0 2px 3px black, 2px 0 6px black, 0 -1px 1px white, 2px 0 4px black inset, -1px 0 1px white inset, -2px 0 1px black inset;
  margin: 0;
  cursor: pointer;
  padding: 0;
  -webkit-transition-duration: 0.4s; /* Safari */
  transition-duration: 0.4s;
}

/*
The max-width of calculator is 60vh. If the width of the viewport is bigger than calculator's width, the basis width is 60vh, otherwise the basis width is 100vw. The width of the button = (basis width - bady padding - calculator padding - border - border padding - grid gaps - air) / 4
*/

@media (orientation: landscape) {
  button {
    width: calc((60vh - (2 * 1.8vh) - (2 * 1.8vh) - (2 * 0.36vh) - (2 * 3.6vh) - (3 * 2vh) - 2vh) / 4);
    height: calc((60vh - (2 * 1.8vh) - (2 * 1.8vh) - (2 * 0.36vh) - (2 * 3.6vh) - (3 * 2vh) - 2vh) / 4);
  }
}

@media (orientation: portrait) and (min-width: 60vh) {
  button {
    width: calc((60vh - (2 * 1.8vh) - (2 * 1.8vh) - (2 * 0.36vh) - (2 * 3.6vh) - (3 * 2vh) - 2vh) / 4);
    height: calc((60vh - (2 * 1.8vh) - (2 * 1.8vh) - (2 * 0.36vh) - (2 * 3.6vh) - (3 * 2vh) - 2vh) / 4);
  }
}

@media (orientation: portrait) and (max-width: 60vh) {
  button {
    width: calc((100vw - (2 * 1.8vh) - (2 * 1.8vh) - (2 * 0.36vh) - (2 * 3.6vh) - (3 * 2vh) - 2vh) / 4);
    height: calc((100vw - (2 * 1.8vh) - (2 * 1.8vh) - (2 * 0.36vh) - (2 * 3.6vh) - (3 * 2vh) - 2vh) / 4);
  }
}

button:hover {
  background-color: hsl(49, 43%, 60%);
  border-color: hsl(49, 43%, 60%);
  outline: none;
}

button:focus {
  outline: none;
}

button:active {
  transform: scale(0.9, 0.9);
  background-color: hsl(49, 43%, 30%);
  border-color: hsl(49, 43%, 30%);
  /*transform: translateY(4px);*/
}

.delete {
  background-color: hsl(357, 43%, 77%);
  border-color: hsl(357, 43%, 77%);
}

.delete:hover {
  background-color: hsl(357, 43%, 60%);
  border-color: hsl(357, 43%, 60%);
}

.delete:active {
  background-color: hsl(357, 43%, 30%);
  border-color: hsl(357, 43%, 30%);
}

.operator {
  background-color: hsl(150, 43%, 77%);
  border-color: hsl(357, 43%, 77%);
}

.operator:hover {
  background-color: hsl(150, 43%, 60%);
  border-color: hsl(150, 43%, 60%);
}

.operator:active {
  background-color: hsl(150, 43%, 30%);
  border-color: hsl(150, 43%, 30%);
}

.plus {
  grid-column: 4 / 5;
  grid-row: 3 / span 2;
  height: 18.9vh;
  border-radius: 9vh;
}

@media (orientation: landscape) {
  .plus {
    height: calc(((60vh - (2 * 1.8vh) - (2 * 1.8vh) - (2 * 0.36vh) - (2 * 3.6vh) - (3 * 2vh) - 2vh) / 4) * 2 + 2vh);
    border-radius: calc((60vh - (2 * 1.8vh) - (2 * 1.8vh) - (2 * 0.36vh) - (2 * 3.6vh) - (3 * 2vh) - 2vh) / 4);
  }
}

@media (orientation: portrait) and (min-width: 60vh) {
  .plus {
    height: calc(((60vh - (2 * 1.8vh) - (2 * 1.8vh) - (2 * 0.36vh) - (2 * 3.6vh) - (3 * 2vh) - 2vh) / 4) * 2 + 2vh);
    border-radius: calc((60vh - (2 * 1.8vh) - (2 * 1.8vh) - (2 * 0.36vh) - (2 * 3.6vh) - (3 * 2vh) - 2vh) / 4);
  }
}

@media (orientation: portrait) and (max-width: 60vh) {
  .plus {
    height: calc(((100vw - (2 * 1.8vh) - (2 * 1.8vh) - (2 * 0.36vh) - (2 * 3.6vh) - (3 * 2vh) - 2vh) / 4) * 2 + 2vh);
    border-radius: calc((100vw - (2 * 1.8vh) - (2 * 1.8vh) - (2 * 0.36vh) - (2 * 3.6vh) - (3 * 2vh) - 2vh) / 4);
  }
}

.null {
  grid-column: 1 / span 2;
  grid-row: 5 / 6;
  width: 18.9vh;
  border-radius: 9vh;
}

@media (orientation: landscape) {
  .null {
    width: calc(((60vh - (2 * 1.8vh) - (2 * 1.8vh) - (2 * 0.36vh) - (2 * 3.6vh) - (3 * 2vh) - 2vh) / 4) * 2 + 2vh);
    border-radius: calc((60vh - (2 * 1.8vh) - (2 * 1.8vh) - (2 * 0.36vh) - (2 * 3.6vh) - (3 * 2vh) - 2vh) / 4);
  }
}

@media (orientation: portrait) and (min-width: 60vh) {
  .null {
    width: calc(((60vh - (2 * 1.8vh) - (2 * 1.8vh) - (2 * 0.36vh) - (2 * 3.6vh) - (3 * 2vh) - 2vh) / 4) * 2 + 2vh);
    border-radius: calc((60vh - (2 * 1.8vh) - (2 * 1.8vh) - (2 * 0.36vh) - (2 * 3.6vh) - (3 * 2vh) - 2vh) / 4);
  }
}

@media (orientation: portrait) and (max-width: 60vh) {
  .null {
    width: calc(((100vw - (2 * 1.8vh) - (2 * 1.8vh) - (2 * 0.36vh) - (2 * 3.6vh) - (3 * 2vh) - 2vh) / 4) * 2 + 2vh);
    border-radius: calc((100vw - (2 * 1.8vh) - (2 * 1.8vh) - (2 * 0.36vh) - (2 * 3.6vh) - (3 * 2vh) - 2vh) / 4);
  }
}
</style>
</head>
<body>
  <div class="calculator">
    <div class="border">
      <h1><span>My Calculator</span></h1>
      <div class="display">
        <div id="entry">0</div>
        <div id="entry-history"> :)</div>
      </div>
      <div class="buttons">
        <button class="delete" value="c">C</button>
        <button class="delete" value="ce">CE</button>
        <button class="button operator" value="÷">÷</button>
        <button class="button operator" value="×">×</button>
        <button class="button number" value="7">7</button>
        <button class="button number" value="8">8</button>
        <button class="button number" value="9">9</button>
        <button class="button operator" value="-">-</button>
        <button class="button number" value="4">4</button>
        <button class="button number" value="5">5</button>
        <button class="button number" value="6">6</button>
        <button class="button operator plus" value="+">+</button>
        <button class="button number" value="1">1</button>
        <button class="button number" value="2">2</button>
        <button class="button number" value="3">3</button>
        <button class="button number null" value="0">0</button>
        <button class="button number" value=".">.</button>
        <button id="equal" class="button operator" value="=">=</button>
      </div>
    </div>
  </div>
<script id="jsbin-javascript">
$(document).ready(function() {

(function calculator(){
  
  var button = "";
  var entry = "";
  var numEntry;
  var entryHistory = "";
  var result = 0;
  var subResult = 0;
  var addition = false;
  var subtraction = false;
  var multiplication = false;
  var division = false;
  var equal = false;
  var isTheFirst = true;
  var reset = true;
  var temp;
  var newEntry;
  var firstNumber = true;

  
  $(".delete").click(function() {
    button = this.value;
    if(button === "c") {
      entry = 0;
      entryHistory = "cleared";
      $("#entry").html(entry);
      $("#entry-history").html(entryHistory);
      entry = "";
      entryHistory = "";
      result = 0;
      subResult = 0;
      addition = false;
      subtraction = false;
      multiplication = false;
      division = false;
      equal = false;
      isTheFirst = true;
      reset = true;
      temp = NaN;
      firstNumber = true;
    }
    if(button === "ce") {
      entry = Math.abs(entry);
      entry = entry.toString();
      entryHistory = entryHistory.slice(0, (-1 * entry.length));
      if(firstNumber) {
        entryHistory = "cleared";
      }
      $("#entry-history").html(entryHistory);
      if(firstNumber) {
        entryHistory = "";
      }
      entry = "0";
      $("#entry").html(entry);
      entry = "";
    }
  });

  $(".number").click(function() {
    
    newEntry = true;
    
    if(equal) {
      entry = "";
      entryHistory = "";
      result = 0;
      subResult = 0;
      addition = false;
      subtraction = false;
      multiplication = false;
      division = false;
      isTheFirst = true;
      reset = true;
      temp = NaN;
    }
    
    equal = false;

    button = this.value;
    
    if(button === "." && entry === "") {
      button = "0.";
    }
    
    if(entry.length < 13) {
      entry += button;
      entryHistory += button;
    }
    $("#entry").html(entry);
    $("#entry-history").html(entryHistory);

    
    if(addition) {
      subResult = (+entry);
    }
    
    if(subtraction) {
      entry = (-1) * Math.abs((+entry));
      subResult = entry;
    }
    
    if(division) {
      subResult = temp / (+entry);
    }
    
    if(multiplication) {
      subResult = temp * (+entry);
    }
    
    if(!reset) {
      $("#entry").html(result + subResult);
    }
  });
  
  
  $(".operator").click(function() {
    
    
    if(!newEntry) {
      $("#entry").html("error");
      console.log("error");
      entryHistory += entry;
      $("#entry-history").html(entryHistory);
    }
    
    if(equal) {
      entry = result;
      entryHistory = result;
      result = 0;
      isTheFirst = true;
    }
    
    equal = false;
    reset = false;
    addition = false;
    subtraction = false;
    division = false;
    multiplication = false;
    firstNumber = false;
    
    button = this.value;
    
    entryHistory += button;
    $("#entry-history").html(entryHistory);
    
    if(button === "+") {
      if(!isTheFirst) {
        result += subResult;
        $("#entry").html(result);
      }
      if(isTheFirst) {
        result += (+entry);
        $("#entry").html(result);
      }
      isTheFirst = true;
      addition = true;
    }
    
    if(button === "-") {
      if(!isTheFirst) {
        result += subResult;
        $("#entry").html(result);
      }
      if(isTheFirst) {
        result += (+entry);
        $("#entry").html(result);
      }
      isTheFirst = true;
      subtraction = true;
    }
    
    if(button === "÷") {
      if(isTheFirst) {
        temp = (+entry);
      }
      if(!isTheFirst) {
        temp = subResult;
      }
      isTheFirst = false;
      division = true;
    }
    
    if(button === "×") {
      if(isTheFirst) {
        temp = (+entry);
      }
      if(!isTheFirst) {
        temp = subResult;
      }
      isTheFirst = false;
      multiplication = true;
    }

    if(button === "=") {
      result += subResult;
      subResult = 0;
      $("#entry").html(result);
      entryHistory += result;
      $("#entry-history").html(entryHistory);
      isTheFirst = true;
      equal = true;
    }
    
    entry = "";
    newEntry = false;

  });
    
})();
});


</script>
</body>
</html>